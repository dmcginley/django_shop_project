{% load static %}
<!DOCTYPE html>
<html lang="en">

  <head>
    {% block meta %}
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Donnchadh Mc Ginley" />
    {% endblock meta %}

    {% block corejs %}
    {# jQuery CDN #}
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"
      integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    {# tataJs #}
    <link rel="stylesheet" href="{% static 'shop_app/js/tata.js' %}" />

    {% endblock corejs %}

    <link rel="stylesheet" href="{% static 'shop_app/css/utilities.css' %}" />
    <link rel="stylesheet" href="{% static 'shop_app/css/style.css' %}" />
    <title>Shop app{% if title %} - {{ title }}{% endif %}</title>
  </head>

  <body class="main-grid">


    {% if messages %}
    <div class="message-container">
      {% for message in messages %}
      {% with message.level as level %}

      {% if level == 40 %} {# error #}
      {% include 'includes/toast/error.html' %}
      {% elif level == 30 %} {# warning #}
      {% include 'includes/toast/warning.html' %}
      {% elif level == 25 %} {# success #}
      {% include 'includes/toast/success.html' %}
      {% else %}
      {% include 'includes/toast/info.html' %}

      {% endif %}
      {% endwith %}
      {% endfor %}


    </div>
    {% endif %}


    {% include 'shop_app/navbar.html' %}

    <main class="container-center">
      {% block content %}{% endblock content %}
    </main>

    <script src="tata.js"></script>


    <!-- script menu dropdown -->
    <script>
      $(document).ready(function () {
        // toggle the dropdown menus
        $(".dropdown-btn-account").click(function () {
          $(".dropdown-menu-account").fadeToggle(300);
          $(".dropdown-menu-account").toggleClass("visible");
        });
        $(".dropdown-menu-account").on("mouseleave", function () {
          $(".dropdown-menu-account").fadeOut("300");
        });

        $(".dropdown-btn-genre").click(function () {
          $(".dropdown-menu-genre").fadeToggle(300);
          $(".dropdown-menu-genre").toggleClass("visible");
        });
        $(".dropdown-menu-genre").on("mouseleave", function () {
          $(".dropdown-menu-genre").fadeOut("300");
        });

        $(".dropdown-btn-sort").click(function () {
          $(".dropdown-menu-sort").fadeToggle(300);
          $(".dropdown-menu-sort").toggleClass("visible");
        });
        $(".dropdown-menu-sort").on("mouseleave", function () {
          $(".dropdown-menu-sort").fadeOut("300");
        });

        $(".mobile-btn").click(function () {
          // toggle the mobile dropdown menu
          $(".mobile-menu").fadeToggle(300);
          $(".mobile-menu").toggleClass("visible");

          if ($(".mobile-menu").is(":visible")) {
            $("body").addClass("fixed-position");
          }
        });

        $(".mobile-btn-close").click(function () {
          $(".mobile-menu").fadeToggle(300);
          // prevent body from moving when menu is open
          $("body").removeClass("fixed-position");
        })
        $("a").click(function () {
          $(".mobile-menu").fadeOut(300);
        })

      })




    </script>

  </body>

</html>
