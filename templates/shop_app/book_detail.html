{% extends 'shop_app/base.html' %}
{% load static %}
{% block content %}

<section class="container">
    <div class="gutter-3">
        <div class="card-flex">
            <h4 class="book-title-small">{{ object.title }}</h4>
            <img src="{{ book.image.image.url }}" class="cover-large" alt="book cover">
            <div class="card-text">
                <h4 class="book-title-medium ">{{ object.title }}</h4>
                <h5>(author) {{ object.author_names }}</h5>
                <p><span class="stock-color">{{ object.number_in_stock }}</span> left</p>
                <p class="stock-color">â‚¬{{ book.price }}</p>

                <form class="form add-to-cart-form" action="{% url 'add_to_cart' book.id %}" method="POST">
                    {% csrf_token %}

                    <label>Quantity</label>
                    <div>

                        <input type="number" name="quantity" value="1" min="1" max="99" date-item_id="{{ book.id }}"
                            id="id_qty{{ book.id }}">
                    </div>


                    <div>
                        <input type="submit" class="btn" value="Add to Cart">
                        <input type="hidden" name="redirect_url" value="{{ request.path }}">
                    </div>
                </form>

            </div>
        </div>
    </div>
    <div class="gutter-2">
        <h3>Product details</h3>
        <p>Publisher: {{ object.publisher }}</p>
        <p>Publication date: {{ object.publication_date }}</p>
        {% if object.isbn %}
        <p>ISBN: {{ object.isbn }}</p>
        {% else %}
        <p>no ISBN found</p>
        {% endif %}
    </div>
</section>

{% endblock content %}
